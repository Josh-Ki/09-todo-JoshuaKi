{"ast":null,"code":"import _toConsumableArray from \"C:/Users/mcosu/09-todo-JoshuaKi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"C:/Users/mcosu/09-todo-JoshuaKi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/mcosu/09-todo-JoshuaKi/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"C:/Users/mcosu/09-todo-JoshuaKi/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"C:/Users/mcosu/09-todo-JoshuaKi/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/mcosu/09-todo-JoshuaKi/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\mcosu\\\\09-todo-JoshuaKi\\\\src\\\\App.js\";\nimport React, { Component, useRef } from 'react';\nimport './App.css';\nimport NewTodo from './NewTodo';\nimport ToDo from './ToDo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n  var _super = _createSuper(App);\n  function App(props) {\n    var _this;\n    _classCallCheck(this, App);\n    _this = _super.call(this, props);\n    _this.cancelB = function (event) {\n      console.log(\"check1\");\n      var xhttp = new XMLHttpRequest();\n      var key = \"a1fd35-e5beef-3926ef-2138b5-62742e\";\n      xhttp.open(\"DELETE\", \"https://cse204.work/todos/\" + event.target.id, true);\n      xhttp.setRequestHeader(\"Content-type\", \"application/json\");\n      xhttp.setRequestHeader(\"x-api-key\", key);\n      xhttp.send();\n      var tempid = document.getElementById(event.target.id + 'a');\n      tempid.remove();\n    };\n    _this.completeB = function (event) {\n      console.log(\"check2\");\n      var data = {\n        \"completed\": true\n      };\n      var xhttp = new XMLHttpRequest();\n      var key = \"a1fd35-e5beef-3926ef-2138b5-62742e\";\n      console.log(event.target);\n      xhttp.open(\"PUT\", \"https://cse204.work/todos/\" + event.target.id, true);\n      xhttp.setRequestHeader(\"Content-type\", \"application/json\");\n      xhttp.setRequestHeader(\"x-api-key\", key);\n      xhttp.send(JSON.stringify(data));\n      event.target.style.backgroundColor = \"pink\";\n    };\n    _this.state = {\n      todos: []\n    };\n    _this.cancelB = _this.cancelB.bind(_assertThisInitialized(_this));\n    _this.add = _this.add.bind(_assertThisInitialized(_this));\n    _this.completeB = _this.completeB.bind(_assertThisInitialized(_this));\n    _this.sortodos = _this.sortodos.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var xhttp = new XMLHttpRequest();\n      var key = \"a1fd35-e5beef-3926ef-2138b5-62742e\";\n      xhttp.open(\"GET\", \"https://cse204.work/todos\", true);\n      xhttp.setRequestHeader(\"x-api-key\", key);\n      xhttp.send();\n      var temp2 = this;\n      xhttp.onreadystatechange = function () {\n        if (xhttp.readyState == 4 && xhttp.status == 200) {\n          temp2.setState(function (state) {\n            return {\n              todos: JSON.parse(xhttp.responseText)\n            };\n          });\n          //temp2.state.todos = JSON.parse(xhttp.responseText);\n          temp2.state.todos.map(function (todo) {\n            if (todo.completed) {\n              console.log(\"nick\");\n              document.getElementById(todo.id + 'a').style.backgroundColor = \"pink\";\n            }\n          });\n        }\n      };\n    }\n  }, {\n    key: \"sortodos\",\n    value: function sortodos() {\n      nTArray = todos.sort();\n    }\n  }, {\n    key: \"add\",\n    value: function add() {\n      var dataRaw = document.getElementById(\"input\").value;\n      var xhttp = new XMLHttpRequest();\n      var key = \"a1fd35-e5beef-3926ef-2138b5-62742e\";\n      var temp = new NewTodo();\n      console.log(this);\n      temp.text = dataRaw;\n      //temp.props;\n      var temp2 = this;\n      xhttp.onreadystatechange = function () {\n        if (this.readyState == 4 && this.status == 200) {\n          var todo = JSON.parse(this.responseText);\n          temp.id = todo.id;\n          temp2.setState(function (state) {\n            return {\n              todos: [].concat(_toConsumableArray(state.todos), [temp])\n            };\n          });\n        }\n      };\n      xhttp.open(\"POST\", \"https://cse204.work/todos\", true);\n      xhttp.setRequestHeader(\"Content-type\", \"application/json\");\n      xhttp.setRequestHeader(\"x-api-key\", key);\n      var data = {\n        text: temp.text\n      };\n      xhttp.send(JSON.stringify(data));\n      document.getElementById(\"input\").value = \"\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mainSection\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Josh & Michael's ToDo App\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this), this.state.todos.map(function (todo) {\n          return /*#__PURE__*/_jsxDEV(NewTodo, {\n            idname: todo.id,\n            text: todo.text,\n            cancelB: _this2.cancelB,\n            completeB: _this2.completeB\n          }, todo.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 11\n          }, _this2);\n        }), /*#__PURE__*/_jsxDEV(ToDo, {\n          add: this.add,\n          sortodos: this.state.todos.sort\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n  return App;\n}(Component);\nexport default App;","map":{"version":3,"names":["React","Component","useRef","NewTodo","ToDo","App","props","cancelB","event","console","log","xhttp","XMLHttpRequest","key","open","target","id","setRequestHeader","send","tempid","document","getElementById","remove","completeB","data","JSON","stringify","style","backgroundColor","state","todos","bind","add","sortodos","temp2","onreadystatechange","readyState","status","setState","parse","responseText","map","todo","completed","nTArray","sort","dataRaw","value","temp","text"],"sources":["C:/Users/mcosu/09-todo-JoshuaKi/src/App.js"],"sourcesContent":["import React, { Component, useRef } from 'react';\r\nimport './App.css';\r\nimport NewTodo from './NewTodo';\r\nimport ToDo from './ToDo';\r\n\r\nclass App extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      todos : []\r\n    };\r\n    this.cancelB = this.cancelB.bind(this);\r\n    this.add = this.add.bind(this);\r\n    this.completeB = this.completeB.bind(this);\r\n    this.sortodos = this.sortodos.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    var xhttp = new XMLHttpRequest();\r\n    var key = \"a1fd35-e5beef-3926ef-2138b5-62742e\";\r\n    xhttp.open(\"GET\", \"https://cse204.work/todos\", true);\r\n    xhttp.setRequestHeader(\"x-api-key\", key);\r\n    xhttp.send();\r\n    var temp2 = this;\r\n    xhttp.onreadystatechange = function () {\r\n      if(xhttp.readyState == 4 && xhttp.status == 200){\r\n        temp2.setState(state => ({todos:JSON.parse(xhttp.responseText)}));\r\n        //temp2.state.todos = JSON.parse(xhttp.responseText);\r\n        temp2.state.todos.map((todo) => {if( todo.completed){console.log(\"nick\"); document.getElementById(todo.id+'a').style.backgroundColor=\"pink\";} });\r\n      }\r\n    }\r\n  }\r\n\r\n  sortodos(){\r\n    nTArray = todos.sort();\r\n  }\r\n\r\n  cancelB = event =>{\r\n    console.log(\"check1\");\r\n    var xhttp = new XMLHttpRequest();\r\n    var key = \"a1fd35-e5beef-3926ef-2138b5-62742e\";\r\n    xhttp.open(\"DELETE\", \"https://cse204.work/todos/\" + event.target.id, true);\r\n    xhttp.setRequestHeader(\"Content-type\", \"application/json\");\r\n    xhttp.setRequestHeader(\"x-api-key\", key);\r\n    xhttp.send();\r\n    var tempid = document.getElementById(event.target.id+'a');\r\n    tempid.remove();\r\n  }\r\n\r\n  add() {\r\n    var dataRaw = document.getElementById(\"input\").value;\r\n    var xhttp = new XMLHttpRequest();\r\n    var key = \"a1fd35-e5beef-3926ef-2138b5-62742e\";\r\n    var temp = new NewTodo();\r\n    console.log(this);\r\n    temp.text = dataRaw;\r\n    //temp.props;\r\n    var temp2 = this;\r\n    xhttp.onreadystatechange = function () {\r\n      if (this.readyState == 4 && this.status == 200) {\r\n          var todo = JSON.parse(this.responseText);\r\n          temp.id = todo.id;\r\n          temp2.setState(state => ({todos:[...state.todos, temp]}));\r\n      }\r\n    }    \r\n    xhttp.open(\"POST\", \"https://cse204.work/todos\", true);\r\n    xhttp.setRequestHeader(\"Content-type\", \"application/json\");\r\n    xhttp.setRequestHeader(\"x-api-key\", key);\r\n    var data = {\r\n      text: temp.text\r\n    }\r\n    xhttp.send(JSON.stringify(data));\r\n    document.getElementById(\"input\").value = \"\";\r\n  }\r\n\r\n  \r\n\r\n  completeB = event =>{\r\n    console.log(\"check2\")\r\n    var data = {\r\n      \"completed\": true\r\n    }\r\n    var xhttp = new XMLHttpRequest();\r\n    var key = \"a1fd35-e5beef-3926ef-2138b5-62742e\";\r\n    console.log(event.target);\r\n    xhttp.open(\"PUT\", \"https://cse204.work/todos/\" + event.target.id, true);\r\n    xhttp.setRequestHeader(\"Content-type\", \"application/json\");\r\n    xhttp.setRequestHeader(\"x-api-key\", key);\r\n    xhttp.send(JSON.stringify(data));\r\n    \r\n    event.target.style.backgroundColor = \"pink\";\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"mainSection\">\r\n        <h1>Josh & Michael's ToDo App</h1>\r\n        {this.state.todos.map((todo) =>\r\n          <NewTodo key={todo.id} idname={todo.id} text={todo.text} cancelB={this.cancelB} completeB={this.completeB}/>\r\n        )}\r\n        <ToDo add={this.add} sortodos={this.state.todos.sort}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}